{"openapi":"3.1.0","info":{"title":"HeyDok Video - Video Meeting Platform","description":"\n    A comprehensive video meeting platform powered by LiveKit.\n    \n    ## Features\n    - Direct video meetings for doctors and patients\n    - Patient setup flow with document upload and media testing\n    - External API for third-party integrations\n    \n    ## External API\n    The platform provides external API endpoints for integrating video meeting functionality:\n    - **Create Meeting Link**: Programmatically create meeting links\n    - **Patient Status Updates**: Track patient status during meetings\n    \n    See `/docs` for interactive API documentation.\n    ","contact":{"name":"HeyDok Video Support","email":"support@heydok.com"},"license":{"name":"MIT"},"version":"1.0.0"},"paths":{"/":{"get":{"summary":"Homepage","description":"Serve the homepage with doctor-patient workflow information","operationId":"homepage__get","responses":{"200":{"description":"Successful Response","content":{"text/html":{"schema":{"type":"string"}}}}}}},"/api/meetings":{"post":{"summary":"Create Meeting","description":"Create a new meeting - typically called by doctors","operationId":"create_meeting_api_meetings_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateMeetingRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MeetingResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/meetings/{meeting_id}/join":{"post":{"summary":"Join Meeting","description":"Join an existing meeting with duplicate prevention","operationId":"join_meeting_api_meetings__meeting_id__join_post","parameters":[{"name":"meeting_id","in":"path","required":true,"schema":{"type":"string","title":"Meeting Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/JoinMeetingRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MeetingResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/meeting/{meeting_id}":{"get":{"summary":"Meeting Room","description":"Serve the meeting room page with role-based interface","operationId":"meeting_room_meeting__meeting_id__get","parameters":[{"name":"meeting_id","in":"path","required":true,"schema":{"type":"string","title":"Meeting Id"}},{"name":"role","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Role"}}],"responses":{"200":{"description":"Successful Response","content":{"text/html":{"schema":{"type":"string"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/patient-setup":{"get":{"summary":"Patient Setup","description":"Serve the patient setup page for pre-meeting validation","operationId":"patient_setup_patient_setup_get","responses":{"200":{"description":"Successful Response","content":{"text/html":{"schema":{"type":"string"}}}}}}},"/frontend/app.js":{"get":{"summary":"Serve App Js","description":"Serve the app.js file","operationId":"serve_app_js_frontend_app_js_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/meetings/{meeting_id}/info":{"get":{"summary":"Get Meeting Info","description":"Get meeting information","operationId":"get_meeting_info_api_meetings__meeting_id__info_get","parameters":[{"name":"meeting_id","in":"path","required":true,"schema":{"type":"string","title":"Meeting Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/health":{"get":{"summary":"Health Check","description":"Comprehensive health check endpoint","operationId":"health_check_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HealthResponse"}}}}}}},"/api/health":{"get":{"summary":"Api Health Check","description":"Simple API health check","operationId":"api_health_check_api_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/robots.txt":{"get":{"summary":"Robots Txt","description":"Serve robots.txt to help with SEO and security","operationId":"robots_txt_robots_txt_get","responses":{"200":{"description":"Successful Response","content":{"text/html":{"schema":{"type":"string"}}}}}}},"/.well-known/security.txt":{"get":{"summary":"Security Txt","description":"Security.txt for responsible disclosure","operationId":"security_txt__well_known_security_txt_get","responses":{"200":{"description":"Successful Response","content":{"text/html":{"schema":{"type":"string"}}}}}}},"/test-livekit":{"get":{"summary":"Test Livekit Frontend","description":"Serve the LiveKit frontend test page","operationId":"test_livekit_frontend_test_livekit_get","responses":{"200":{"description":"Successful Response","content":{"text/html":{"schema":{"type":"string"}}}}}}},"/api/livekit-sdk":{"get":{"summary":"Serve Livekit Sdk","description":"Serve the local LiveKit SDK as a fallback","operationId":"serve_livekit_sdk_api_livekit_sdk_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/test-livekit-fix":{"get":{"summary":"Test Livekit Fix","description":"Serve the LiveKit fix test page","operationId":"test_livekit_fix_test_livekit_fix_get","responses":{"200":{"description":"Successful Response","content":{"text/html":{"schema":{"type":"string"}}}}}}},"/debug":{"get":{"summary":"Debug Meeting","description":"Serve the meeting debug tool","operationId":"debug_meeting_debug_get","responses":{"200":{"description":"Successful Response","content":{"text/html":{"schema":{"type":"string"}}}}}}},"/api/meetings/{meeting_id}/leave":{"post":{"summary":"Leave Meeting","description":"Handle participant leaving the meeting","operationId":"leave_meeting_api_meetings__meeting_id__leave_post","parameters":[{"name":"meeting_id","in":"path","required":true,"schema":{"type":"string","title":"Meeting Id"}},{"name":"participant_name","in":"query","required":true,"schema":{"type":"string","title":"Participant Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/meetings/{meeting_id}/upload-document":{"post":{"summary":"Upload Patient Document","description":"Upload patient document (Krankenkassenschein etc.) before joining meeting","operationId":"upload_patient_document_api_meetings__meeting_id__upload_document_post","parameters":[{"name":"meeting_id","in":"path","required":true,"schema":{"type":"string","title":"Meeting Id"}}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_upload_patient_document_api_meetings__meeting_id__upload_document_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DocumentUploadResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/meetings/{meeting_id}/process-document":{"post":{"summary":"Process Patient Document","description":"Process uploaded patient document (placeholder for actual processing logic)","operationId":"process_patient_document_api_meetings__meeting_id__process_document_post","parameters":[{"name":"meeting_id","in":"path","required":true,"schema":{"type":"string","title":"Meeting Id"}}],"requestBody":{"required":true,"content":{"application/x-www-form-urlencoded":{"schema":{"$ref":"#/components/schemas/Body_process_patient_document_api_meetings__meeting_id__process_document_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/meetings/{meeting_id}/media-test":{"post":{"summary":"Submit Media Test","description":"Submit patient media test results","operationId":"submit_media_test_api_meetings__meeting_id__media_test_post","parameters":[{"name":"meeting_id","in":"path","required":true,"schema":{"type":"string","title":"Meeting Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MediaTestRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MediaTestResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/meetings/{meeting_id}/join-patient":{"post":{"summary":"Patient Join Meeting","description":"Patient join meeting with document and media test validation","operationId":"patient_join_meeting_api_meetings__meeting_id__join_patient_post","parameters":[{"name":"meeting_id","in":"path","required":true,"schema":{"type":"string","title":"Meeting Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PatientJoinRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MeetingResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/meetings/{meeting_id}/status":{"get":{"summary":"Get Meeting Status","description":"Get detailed meeting status for role-based UI updates","operationId":"get_meeting_status_api_meetings__meeting_id__status_get","parameters":[{"name":"meeting_id","in":"path","required":true,"schema":{"type":"string","title":"Meeting Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MeetingStatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/meetings/{meeting_id}/join-doctor":{"post":{"summary":"Doctor Join Meeting","description":"Doctor join meeting - bypasses patient validation requirements","operationId":"doctor_join_meeting_api_meetings__meeting_id__join_doctor_post","parameters":[{"name":"meeting_id","in":"path","required":true,"schema":{"type":"string","title":"Meeting Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/JoinMeetingRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MeetingResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/doctor-dashboard/{meeting_id}":{"get":{"summary":"Doctor Dashboard","description":"Serve the doctor dashboard to monitor patient setup and meeting status","operationId":"doctor_dashboard_doctor_dashboard__meeting_id__get","parameters":[{"name":"meeting_id","in":"path","required":true,"schema":{"type":"string","title":"Meeting Id"}}],"responses":{"200":{"description":"Successful Response","content":{"text/html":{"schema":{"type":"string"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/external/create-meeting-link":{"post":{"tags":["External API"],"summary":"Create Meeting Link","description":"Creates a new meeting link for external systems. Returns URLs for both doctor and patient access.","operationId":"create_meeting_link_api_external_create_meeting_link_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateMeetingLinkRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateMeetingLinkResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/external/patient-status":{"post":{"tags":["External API"],"summary":"Update Patient Status","description":"Updates the patient status for a meeting. Used to track patient presence and setup completion.","operationId":"update_patient_status_api_external_patient_status_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PatientStatusRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PatientStatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"Body_process_patient_document_api_meetings__meeting_id__process_document_post":{"properties":{"document_id":{"type":"string","title":"Document Id"}},"type":"object","required":["document_id"],"title":"Body_process_patient_document_api_meetings__meeting_id__process_document_post"},"Body_upload_patient_document_api_meetings__meeting_id__upload_document_post":{"properties":{"file":{"type":"string","format":"binary","title":"File"},"patient_name":{"type":"string","title":"Patient Name"}},"type":"object","required":["file","patient_name"],"title":"Body_upload_patient_document_api_meetings__meeting_id__upload_document_post"},"CreateMeetingLinkRequest":{"properties":{"doctor_name":{"type":"string","maxLength":100,"minLength":1,"title":"Doctor Name","description":"Name of the doctor creating the meeting"},"external_id":{"anyOf":[{"type":"string","maxLength":50},{"type":"null"}],"title":"External Id","description":"Optional external identifier for the meeting"}},"type":"object","required":["doctor_name"],"title":"CreateMeetingLinkRequest"},"CreateMeetingLinkResponse":{"properties":{"meeting_id":{"type":"string","title":"Meeting Id","description":"Unique meeting identifier"},"doctor_join_url":{"type":"string","title":"Doctor Join Url","description":"Direct URL for doctor to join the meeting"},"patient_join_url":{"type":"string","title":"Patient Join Url","description":"URL for patients to join (includes setup flow)"},"external_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"External Id","description":"External identifier if provided"},"created_at":{"type":"string","title":"Created At","description":"Meeting creation timestamp"},"expires_at":{"type":"string","title":"Expires At","description":"Meeting expiration timestamp"}},"type":"object","required":["meeting_id","doctor_join_url","patient_join_url","created_at","expires_at"],"title":"CreateMeetingLinkResponse"},"CreateMeetingRequest":{"properties":{"host_name":{"type":"string","maxLength":50,"minLength":1,"title":"Host Name","default":"Host"},"host_role":{"type":"string","pattern":"^(doctor|patient)$","title":"Host Role","default":"doctor"}},"type":"object","title":"CreateMeetingRequest"},"DocumentUploadResponse":{"properties":{"document_id":{"type":"string","title":"Document Id"},"filename":{"type":"string","title":"Filename"},"upload_timestamp":{"type":"string","title":"Upload Timestamp"},"status":{"type":"string","title":"Status"}},"type":"object","required":["document_id","filename","upload_timestamp","status"],"title":"DocumentUploadResponse"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"HealthResponse":{"properties":{"status":{"type":"string","title":"Status"},"app_version":{"type":"string","title":"App Version","default":"1.0.0"},"meetings_count":{"type":"integer","title":"Meetings Count"},"livekit_connected":{"type":"boolean","title":"Livekit Connected"},"timestamp":{"type":"string","title":"Timestamp"}},"type":"object","required":["status","meetings_count","livekit_connected","timestamp"],"title":"HealthResponse"},"JoinMeetingRequest":{"properties":{"participant_name":{"type":"string","maxLength":50,"minLength":1,"title":"Participant Name"},"participant_role":{"type":"string","pattern":"^(doctor|patient)$","title":"Participant Role","default":"patient"}},"type":"object","required":["participant_name"],"title":"JoinMeetingRequest"},"MediaTestRequest":{"properties":{"meeting_id":{"type":"string","title":"Meeting Id"},"has_camera":{"type":"boolean","title":"Has Camera"},"has_microphone":{"type":"boolean","title":"Has Microphone"},"camera_working":{"type":"boolean","title":"Camera Working"},"microphone_working":{"type":"boolean","title":"Microphone Working"},"patient_confirmed":{"type":"boolean","title":"Patient Confirmed"}},"type":"object","required":["meeting_id","has_camera","has_microphone","camera_working","microphone_working","patient_confirmed"],"title":"MediaTestRequest"},"MediaTestResponse":{"properties":{"test_id":{"type":"string","title":"Test Id"},"meeting_id":{"type":"string","title":"Meeting Id"},"status":{"type":"string","title":"Status"},"timestamp":{"type":"string","title":"Timestamp"},"allowed_to_join":{"type":"boolean","title":"Allowed To Join"}},"type":"object","required":["test_id","meeting_id","status","timestamp","allowed_to_join"],"title":"MediaTestResponse"},"MeetingResponse":{"properties":{"meeting_id":{"type":"string","title":"Meeting Id"},"meeting_url":{"type":"string","title":"Meeting Url"},"livekit_url":{"type":"string","title":"Livekit Url"},"token":{"type":"string","title":"Token"},"participants_count":{"type":"integer","title":"Participants Count","default":0},"user_role":{"type":"string","title":"User Role"},"meeting_status":{"additionalProperties":true,"type":"object","title":"Meeting Status"}},"type":"object","required":["meeting_id","meeting_url","livekit_url","token","user_role","meeting_status"],"title":"MeetingResponse"},"MeetingStatusResponse":{"properties":{"meeting_id":{"type":"string","title":"Meeting Id"},"doctor_name":{"type":"string","title":"Doctor Name"},"patient_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Patient Name"},"patient_joined":{"type":"boolean","title":"Patient Joined"},"patient_setup_completed":{"type":"boolean","title":"Patient Setup Completed"},"document_uploaded":{"type":"boolean","title":"Document Uploaded"},"media_test_completed":{"type":"boolean","title":"Media Test Completed"},"meeting_active":{"type":"boolean","title":"Meeting Active"},"created_at":{"type":"string","title":"Created At"}},"type":"object","required":["meeting_id","doctor_name","patient_joined","patient_setup_completed","document_uploaded","media_test_completed","meeting_active","created_at"],"title":"MeetingStatusResponse"},"PatientJoinRequest":{"properties":{"patient_name":{"type":"string","maxLength":50,"minLength":1,"title":"Patient Name"},"document_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Document Id"},"media_test_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Media Test Id"}},"type":"object","required":["patient_name"],"title":"PatientJoinRequest"},"PatientStatusRequest":{"properties":{"meeting_id":{"type":"string","minLength":1,"title":"Meeting Id","description":"Meeting identifier"},"patient_name":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Patient Name","description":"Patient name if known"},"status":{"type":"string","pattern":"^(joining|in_meeting|left|setup_incomplete)$","title":"Status","description":"Patient status"},"timestamp":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Timestamp","description":"Optional timestamp of status change"}},"type":"object","required":["meeting_id","status"],"title":"PatientStatusRequest"},"PatientStatusResponse":{"properties":{"meeting_id":{"type":"string","title":"Meeting Id"},"patient_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Patient Name"},"status":{"type":"string","title":"Status"},"updated_at":{"type":"string","title":"Updated At"},"success":{"type":"boolean","title":"Success","default":true}},"type":"object","required":["meeting_id","patient_name","status","updated_at"],"title":"PatientStatusResponse"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}